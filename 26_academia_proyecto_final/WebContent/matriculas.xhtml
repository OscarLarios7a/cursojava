<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >
    <h:head>
        <title>Facelet Title</title>
  <style type="text/css">
 		 body { 
 		 		text-align:center
 		 		}
 		 #divTablaAlumno,#divTablaCurso { 
				display: table;
				margin: 0 auto;	
 		 		}
  	</style>             
    </h:head>
    <h:body>
    	<h:form id="miForm">
	        
	        Consultar por curso:
	        <h:selectOneMenu value="#{matriculasBean.cursoSeleccionado}">
	        	<f:selectItem itemValue="0" itemLabel="Seleccione curso"/>
	        	<f:selectItems value="#{matriculasBean.cursos}" var="c" itemValue="#{c.idCurso}" itemLabel="#{c.nombre}"/>
	        </h:selectOneMenu>
	        <br/><br/>
			<h:commandButton value="Consultar por Curso"><br/>			
				<f:ajax  execute="miForm" render="tablaCurso"/>
			</h:commandButton><br/>	     
			   
        	<div id="divTablaCurso">
	        <h:dataTable id="tablaCurso" border="1" var="mat"  value="#{matriculasBean.matriculasCursos}">	        	
	        	<h:column>
	        		<f:facet name="header">Alumno</f:facet>
	        		<h:outputText value="#{mat.alumno.nombre}"/>
	        	</h:column>
	        	<h:column>
	        		<f:facet name="header">Nota</f:facet>
	        		<h:outputText value="#{mat.nota}"/>
	        	</h:column>
	        </h:dataTable>
	       </div>
	       <br/><br/>
	       
 	        Consultar por alumno:
	        <h:selectOneMenu value="#{matriculasBean.alumnoSeleccionado}">
	        	<f:selectItem itemValue="0" itemLabel="Seleccione Alumno"/>
	        	<f:selectItems value="#{registroMatriculaBean.alumnos}" var="a" itemValue="#{a.dni}" itemLabel="#{a.dni}"/>
	        </h:selectOneMenu>
	        <br/><br/>		   
	             	        
			<h:commandButton value="Consultar por Alumno"><br/>			
				<f:ajax  execute="miForm" render="tablaAlumno"/>
			</h:commandButton><br/>  
				             	        
        	<div id="divTablaAlumno"> 
	            <h:dataTable  id="tablaAlumno" border="1" var="mat" value="#{matriculasBean.matriculasAlumnos}">	  	
	        	<h:column>
	        		<f:facet name="header">Curso</f:facet>
	        		<h:outputText value="#{mat.curso.nombre}"/>
	        	</h:column>
	        	<h:column>
	        		<f:facet name="header">Nota</f:facet>
	        		<h:outputText value="#{mat.nota}"/>
	        	</h:column>
	        </h:dataTable>
	       </div> 
	       <br/>	
        </h:form>
        <h:button value="Volver" outcome="inicio"/>
    </h:body>
</html>

